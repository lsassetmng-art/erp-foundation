# マスタ管理 実装指示書（PM用・共通基盤）

## この指示書の位置づけ
本書は **PM がマスタに関わる実装指示を出す際の正式フォーマット**である。  
実装AI・人間実装者は、本書の記載を **実装要件として扱うこと**。

---

## 1. 指示概要

- 指示ID:
- 指示日:
- 指示者:
- 優先度: 高 / 中 / 低

---

## 2. 対象データの判定（必須）

### 2.1 データの性質
- [ ] 定義データ（マスタ）
- [ ] 結果データ（業務トランザクション）

※ 「定義データ」にチェックが入らない指示は **マスタ管理指示ではない**

---

## 3. マスタ種別の指定（必須）

- [ ] 共通マスタ（foundation 管理）
- [ ] 準マスタ（境界マスタ）
- [ ] 業務専用マスタ

---

## 4. マスタ配置先（必須）

以下のいずれかを **必ず 1 つ指定**する。

- [ ] erp-foundation（共通基盤）
- [ ] erp-sales（販売）
- [ ] erp-shipping（出荷）
- [ ] erp-billing（請求）
- [ ] erp-accounting（会計）
- [ ] erp-inventory（在庫）
- [ ] erp-asset（資産）
- [ ] erp-hr（人事）
- [ ] erp-audit（監査）

---

## 5. マスタ内容（定義のみ）

### 5.1 含めてよいもの
- コード
- 名称
- 分類
- フラグ（is_active 等）

### 5.2 含めてはいけないもの（禁止）
- 数量
- 金額
- ステータス遷移
- 締め・確定情報
- 業務ロジック

---

## 6. 業務側への影響

- 参照する業務:
- 業務側で保持すべきスナップショット項目:
- 既存データへの影響:
  - [ ] なし
  - [ ] あり（内容を記載）

---

## 7. 実装制約（必須）

- [ ] 業務リポジトリに共通マスタを作らない
- [ ] マスタは現在値のみを保持する
- [ ] 過去データを変更・再計算しない
- [ ] マスタ変更でイベントを発火しない

---

## 8. 完了条件（Definition of Done）

- [ ] マスタの配置先が正しい
- [ ] 業務側に重複マスタが存在しない
- [ ] 参照関係が一方向になっている
- [ ] CI が成功する

---

## 9. 備考

- 本指示書は **実装ルールそのもの**である  
- 指示未記入・判定未選択の項目がある場合、実装は開始しない

