<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    package="com.lsam.MoneySelfManager">

    <!-- ========================================= -->
    <!-- Permission（READ ONLY / 通信系のみ）     -->
    <!-- ========================================= -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

    <!-- ========================================= -->
    <!-- Android 11+ Package Visibility（安全側） -->
    <!-- 外部連携は Web（VIEW https）のみ許可   -->
    <!-- ========================================= -->
    <queries>
        <intent>
            <action android:name="android.intent.action.VIEW" />
            <data android:scheme="https" />
        </intent>
    </queries>

    <application
        android:allowBackup="true"
        android:fullBackupContent="false"
        android:label="@string/app_name"
        android:icon="@mipmap/ic_launcher"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.AppCompat.Light.NoActionBar"
        android:usesCleartextTraffic="false"
        tools:targetApi="31">

        <!-- ========================================= -->
        <!-- Entry / Launcher（唯一 exported=true）  -->
        <!-- ========================================= -->
        <activity
            android:name=".ui.main.MainActivity"
            android:exported="true"
            android:launchMode="singleTask">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <!-- ========================================= -->
        <!-- 役割ルーティング（内部遷移専用）        -->
        <!-- ========================================= -->
        <activity
            android:name=".ui.RoleRouteActivity"
            android:exported="false"
            android:label="Role Router" />

        <!-- ========================================= -->
        <!-- 業務ホーム（分離・正本）               -->
        <!-- ========================================= -->
        <activity
            android:name=".ui.SalesHomeActivity"
            android:exported="false"
            android:label="販売業務" />

        <activity
            android:name=".ui.InventoryHomeActivity"
            android:exported="false"
            android:label="在庫・物流" />

        <!-- ========================================= -->
        <!-- 在庫管理（READ ONLY / Phase0–3 完了）  -->
        <!-- ========================================= -->
        <activity
            android:name=".ui.StockOutOfStockListActivity"
            android:exported="false"
            android:label="在庫一覧（欠品状態）" />

        <activity
            android:name=".ui.StockListActivity"
            android:exported="false"
            android:label="在庫一覧（状態表示）" />

        <!-- ========================================= -->
        <!-- 受注管理（Phase0–3 / READ ONLY）       -->
        <!-- ========================================= -->
        <activity
            android:name=".sales.ui.OrderListActivity"
            android:exported="false"
            android:label="受注一覧" />

        <activity
            android:name=".sales.ui.OrderDetailActivity"
            android:exported="false"
            android:label="受注詳細" />

        <!-- ========================================= -->
        <!-- 見積・販売業務（Phase4：骨格のみ）    -->
        <!-- ========================================= -->
        <activity
            android:name=".sales.phase4.ui.Phase4StubActivity"
            android:exported="false"
            android:label="販売業務（準備中）" />

        <!-- ========================================= -->
        <!-- 販売管理・分析（Phase5：READ ONLY）   -->
        <!-- ========================================= -->
        <activity
            android:name=".ui.sales.SalesNetListActivity"
            android:exported="false"
            android:label="売上一覧" />

        <activity
            android:name=".ui.sales.SalesNetDetailActivity"
            android:exported="false"
            android:label="売上一覧（詳細）" />

        <activity
            android:name=".ui.sales.SalesAlertListActivity"
            android:exported="false"
            android:label="販売アラート一覧" />

        <activity
            android:name=".ui.sales.SalesAlertDetailActivity"
            android:exported="false"
            android:label="販売アラート詳細" />

        <!-- ========================================= -->
        <!-- Approval Backlog UI（READ ONLY）        -->
        <!-- 本チャットで追加された正規Activity     -->
        <!-- ========================================= -->
        <activity
            android:name=".ui.approval.ApprovalBacklogActivity"
            android:exported="false"
            android:label="承認バックログ" />

        <!-- ========================================= -->
        <!-- Admin UI（既存・裁定済）               -->
        <!-- ========================================= -->
        <activity
            android:name=".activities.admin.AdminMenuActivity"
            android:exported="false" />

        <activity
            android:name=".activities.admin.ApprovalListActivity"
            android:exported="false" />

        <activity
            android:name=".activities.admin.KillSwitchActivity"
            android:exported="false" />

        <activity
            android:name=".activities.admin.AlertListActivity"
            android:exported="false" />

        <!-- ========================================= -->
        <!-- 将来拡張（未定義・コメント枠のみ）    -->
        <!-- Phase 宣言と裁定なしの実装は禁止      -->
        <!-- ========================================= -->
        <!--
          [Invoice]
            - InvoiceListActivity
            - InvoiceDetailActivity

          [Outbox]
            - OutboxPendingListActivity
            - OutboxFailedListActivity

          [Accounting MVP]
            - AccountingJournalPreviewActivity
            - AccountingJournalConfirmActivity
        -->

    </application>

</manifest>
